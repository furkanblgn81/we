<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Giriş / Misafir Gönderim</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Dosya Paylaşım Sistemi</h1>

        <!-- Giriş Formu -->
        <h2>Giriş Yap</h2>
        <form method="POST" action="{{ url_for('login') }}">
            <input type="text" name="username" placeholder="Kullanıcı adı" required>
            <input type="password" name="password" placeholder="Şifre" required>
            <button type="submit">Giriş Yap</button>
        </form>
        <p>Hesabın yok mu? <a href="{{ url_for('register') }}">Kayıt Ol</a></p>

        <hr style="margin: 20px 0; border: none; border-top: 1px solid #ddd;">

        <!-- Misafir Yükleme -->
        <h2>Misafir Olarak Dosya Gönder</h2>
        <form method="POST" action="{{ url_for('upload_file') }}" enctype="multipart/form-data">
            <input type="email" name="guest_email" placeholder="E-posta adresiniz" required>
            <input type="email" name="receiver_email" placeholder="Alıcı e-posta adresi" required>

            <label class="upload-area">
                <span>Dosya Seç (Max 5 MB)</span>
                <input type="file" name="file" required>
            </label>

            <textarea name="message" placeholder="Mesaj (opsiyonel)"></textarea>
            <button type="submit">Gönder</button>
        </form>

        <p style="margin-top: 10px; font-size: 12px; color: #777;">
            Misafir olarak en fazla 5 MB dosya gönderebilirsiniz. Daha büyük dosyalar için giriş yapın.
        </p>

        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="flash">
            {% for message in messages %}
              <p>{{ message }}</p>
            {% endfor %}
            </div>
          {% endif %}
        {% endwith %}
    </div>
</body>
</html>
